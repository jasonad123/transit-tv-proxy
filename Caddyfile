:8080 {
    # Health check endpoint for Railway
    handle /health {
        respond "OK" 200
    }

    # Straight reverse proxy to Transit TV with Railway optimizations
    handle {
        reverse_proxy http://transit-tv.railway.internal:8080 {
            transport http {
                dial_timeout 30s
                response_header_timeout 30s
            }
            lb_try_duration 30s
            header_up X-Real-IP {remote_host}
            header_up Host {host}
            flush_interval -1
        }
    }
}
