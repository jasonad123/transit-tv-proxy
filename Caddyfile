:8080 {
    # Health check for the proxy itself
    handle /health {
        respond "OK" 200
    }

    # Straight reverse proxy to Transit TV
    reverse_proxy http://transit-tv.railway.internal:8080 {
        transport http {
            dial_timeout 90s
            response_header_timeout 90s
        }
        lb_try_duration 90s
        header_up X-Forwarded-For {remote_host}
        header_up X-Real-IP {remote_host}
    }
}
